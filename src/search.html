<template>
  <require from="./date-format"></require>
  <section class="au-animate">
    <h2>Search GitHub Repos</h2>

    <form submit.delegate="findRepos()">

      <input type="text" value.bind="searchTerm" />
      <button class="btn btn-default" type="submit">Find Repos</button>
      ${repos.length}


      <table id="results" class="table table-bordered table-hover" style="margin-top:30px;display:none;">
        <thead>
          <tr>
            <th>Owner</th>
            <th>Name</th>
            <th>Description</th>
            <th>Stars</th>
            <th>Created at</th>
            <th>Updated at</th>
          </tr>
        </thead>
        <tbody>
          <tr repeat.for="row of repos">
            <td>
              <a href.bind="row.owner.html_url">${row.owner.login}</a><br/>
              <img src.bind="row.owner.avatar_url" alt="avatar" style="max-height:30px" />
            </td>
            <td>${row.full_name}</td>
            <td>${row.description}</td>
            <td>${row.stargazers_count}</td>
            <td>${row.created_at | dateFormat:'YYYY-MM-DD'}</td>
            <td>${row.updated_at | dateFormat:'YYYY-MM-DD'}</td>
          </tr>
        </tbody>
      </table>

    </form>
  </section>
</template>
